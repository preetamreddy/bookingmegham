<p id="notice"><%= notice %></p>
<h1>Trip Details</h1>

<div class="show_saved_record">
<p>
  <b>Guest:</b>
  <span class="saved_value"><%= @trip.guest.name %>
</p>

<p>
  <b>Trip Name:</b>
  <span class="saved_value"><%= @trip.name %>
</p>

<p>
  <b>Start date:</b>
  <span class="saved_value"><%= l @trip.start_date if @trip.start_date %>
</p>

<p>
  <b>End date:</b>
  <span class="saved_value"><%= l @trip.end_date if @trip.end_date %>
</p>

	<b>Rooms:</b>
	<table class="nested_table">
		<tr>
			<th class="text">Single / Double</th>
			<th class="number">Adults / room</th>
			<th class="number">Children / room</th>
			<th class="number">Number of rooms</th>
		</tr>

		<% @trip.rooms.each do |room| %>
			<tr class="<%= cycle('list_line_odd', 'list_line_even') %>">	
				<td class="text"><%= room.occupancy %></td>
				<td class="number"><%= room.number_of_adults %></td>
				<td class="number"><%= room.number_of_children_between_5_and_12_years %></td>
				<td class="number"><%= room.number_of_rooms %></td>
			</tr>
		<% end %>
	</table>

<p>
  <b>Number of children below 5 years:</b>
  <span class="saved_value"><%= @trip.number_of_children_below_5_years %>
</p>

<p>
  <b>Number of drivers:</b>
  <span class="saved_value"><%= @trip.number_of_drivers %>
</p>

<%= hidden_p_unless(@trip.food_preferences != "") do %>
  <b>Food preferences:</b>
  <span class="saved_value"><%= @trip.food_preferences %>
<% end %>

<%= hidden_p_unless(@trip.total_price) do %>
  <b>Total price:</b>
  <span class="saved_value"><%= number_to_currency(@trip.total_price) if @trip.total_price %>
<% end %>

<%= hidden_p_unless(@trip.discount) do %>
  <b>Discount:</b>
  <span class="saved_value"><%= number_to_currency(@trip.discount) if @trip.discount %>
<% end %>

<%= hidden_p_unless(@trip.final_price) do %>
  <b>Final price:</b>
  <span class="saved_value"><%= number_to_currency(@trip.final_price) if @trip.final_price %>
<% end %>

<%= hidden_p_unless(@trip.paid) do %>
  <b>Paid:</b>
  <span class="saved_value"><%= number_to_currency(@trip.paid) if @trip.paid %>
<% end %>

<%= hidden_p_unless(@trip.balance_payment) do %>
  <b>Balance payment:</b>
  <span class="saved_value"><%= number_to_currency(@trip.balance_payment) if @trip.balance_payment %>
<% end %>

<%= hidden_p_unless(@trip.pay_by_date) do %>
  <b>Pay by date:</b>
  <span class="saved_value"><%= l @trip.pay_by_date if @trip.pay_by_date %>
<% end %>

<p>
  <b>Comments:</b>
  <span class="saved_value"><%= @trip.comments %>
</p>
</div>

<div class="action_container">
	<%= link_to 'Edit', edit_trip_path(@trip) %> |
	<%= link_to 'Check Availability', 
				availability_chart_path(:trip_id => @trip.id) %> |
</div>

<%= link_to 'Back to Trip Listing',
			trips_path(:guest_id => session[:guest_id]), :class => "back_link" %>
